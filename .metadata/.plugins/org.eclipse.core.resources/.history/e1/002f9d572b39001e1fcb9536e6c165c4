package labBClimateMonitoringServer;

import java.net.*;
import java.io.*;

public class CMServer extends Thread {
	private ServerSocket serverSocket;

	CMServer(int port) throws IOException {
		serverSocket = new ServerSocket(port);
	}
	
	public void run() {
	      while(true) {
	    	  try {
	    		  System.out.println("Attendo connessione");
				new CMConnectionHandler(serverSocket.accept()).start();
				System.out.println("Connessione effettuata");
			} catch (IOException e) {
				e.printStackTrace();
			}
	         }
	      }
}
